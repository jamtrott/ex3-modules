#%Module
#
# SuperLU_DIST 6.1.1 (System gcc-7.4.0)
#
#
set version 6.1.1

proc ModulesHelp { } {
	global version
        puts stderr "\tSets up the environment for SuperLU_DIST $version (System gcc-7.4.0)\n"
        puts stderr "\t- SUPERLU_DIST_ROOT"
        puts stderr "\t- SUPERLU_DIST_INCDIR"
        puts stderr "\t- SUPERLU_DIST_LIBDIR"
        puts stderr "\t- SUPERLU_DIST_INCLUDEDIR"
        puts stderr "\t- SUPERLU_DIST_LIBRARYDIR"
        puts stderr "\t- C_INCLUDE_PATH"
        puts stderr "\t- CPLUS_INCLUDE_PATH"
        puts stderr "\t- LIBRARY_PATH"
        puts stderr "\t- LD_LIBRARY_PATH"
}

module-whatis "MPI-based direct solver for large, sparse non-symmetric systems of equations in distributed memory"
module-whatis "https://github.com/xiaoyeli/superlu_dist"

module load openblas/dynamic/0.3.7
module load openmpi/gcc/64/4.0.1
module load parmetis/gcc/4.0.3

set pkghome /cm/shared/apps/superlu_dist/gcc/$version

setenv SUPERLU_DIST_ROOT $pkghome
setenv SUPERLU_DIST_INCDIR $pkghome/include
setenv SUPERLU_DIST_LIBDIR $pkghome/lib
setenv SUPERLU_DIST_INCLUDEDIR $pkghome/include
setenv SUPERLU_DIST_LIBRARYDIR $pkghome/lib

prepend-path C_INCLUDE_PATH $pkghome/include
prepend-path CPLUS_INCLUDE_PATH $pkghome/include
prepend-path LIBRARY_PATH $pkghome/lib
prepend-path LD_LIBRARY_PATH $pkghome/lib

unset pkghome

set MSG "SuperLU_DIST $version (System gcc-7.4.0-1ubuntu1~18.04.1)"
